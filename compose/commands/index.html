<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Compose 命令说明 | Docker 从入门到实践</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script>
  var _hmt = _hmt || [];
  (function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?81a3490c9cd141dbcf6d00bc18b6edae";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script>
    <script>
  (function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
  </script>
    <link rel="alternate" type="application/atom+xml" href="https://vuepress.mirror.docker-practice.com/atom.xml" title="Docker 从入门到实践 Atom Feed">
    <link rel="alternate" type="application/json" href="https://vuepress.mirror.docker-practice.com/feed.json" title="Docker 从入门到实践 JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://vuepress.mirror.docker-practice.com/rss.xml" title="Docker 从入门到实践 RSS Feed">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="">
    <meta property="og:url" content="/compose/commands.html">
    <meta property="og:site_name" content="Docker 从入门到实践">
    <meta property="og:title" content="Compose 命令说明">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta property="og:locale:alternate" content="zh-CN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Docker 从入门到实践">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.e122b7e6.css" as="style"><link rel="preload" href="/assets/js/app.3c5c2021.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.5d5ca79a.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.9b265b09.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.8dcd10ac.js" as="script"><link rel="preload" href="/assets/js/page-Compose命令说明.04676b11.js" as="script"><link rel="preload" href="/assets/js/182.998854d2.js" as="script"><link rel="prefetch" href="/assets/js/183.52923dc4.js"><link rel="prefetch" href="/assets/js/layout-Blog.1a081e12.js"><link rel="prefetch" href="/assets/js/layout-Layout.6f4f8ad5.js"><link rel="prefetch" href="/assets/js/layout-NotFound.9d3c989d.js"><link rel="prefetch" href="/assets/js/layout-Slide.8f28e1ad.js"><link rel="prefetch" href="/assets/js/page--1680a9ba.75fee9a2.js"><link rel="prefetch" href="/assets/js/page--220c6e3a.12e5a9b9.js"><link rel="prefetch" href="/assets/js/page--4750df62.4192897d.js"><link rel="prefetch" href="/assets/js/page--75af3dfa.0b51904a.js"><link rel="prefetch" href="/assets/js/page--7d3316f5.0bbbdab0.js"><link rel="prefetch" href="/assets/js/page-ADD更高级的复制文件.cfafea73.js"><link rel="prefetch" href="/assets/js/page-ARG构建参数.02afb986.js"><link rel="prefetch" href="/assets/js/page-Alpine.68498fa3.js"><link rel="prefetch" href="/assets/js/page-Busybox.0162c367.js"><link rel="prefetch" href="/assets/js/page-CICD.059930c6.js"><link rel="prefetch" href="/assets/js/page-CMD容器启动命令.b2929f9b.js"><link rel="prefetch" href="/assets/js/page-COPY复制文件.39f918f5.js"><link rel="prefetch" href="/assets/js/page-CentOS.d7036393.js"><link rel="prefetch" href="/assets/js/page-CentOSFedora.683ba7af.js"><link rel="prefetch" href="/assets/js/page-CentOS安装Docker.26213e0b.js"><link rel="prefetch" href="/assets/js/page-Compose模板文件.560efd40.js"><link rel="prefetch" href="/assets/js/page-Compose简介.696b1147.js"><link rel="prefetch" href="/assets/js/page-DebianUbuntu.9f098439.js"><link rel="prefetch" href="/assets/js/page-Debian安装Docker.8db4e5f6.js"><link rel="prefetch" href="/assets/js/page-DockerBuildx.386f55e3.js"><link rel="prefetch" href="/assets/js/page-DockerCompose项目.3c6327a5.js"><link rel="prefetch" href="/assets/js/page-DockerDesktop启用Kubernetes.6e088609.js"><link rel="prefetch" href="/assets/js/page-DockerHub.720ba26e.js"><link rel="prefetch" href="/assets/js/page-DockerMachine项目.043fe7b4.js"><link rel="prefetch" href="/assets/js/page-DockerRegistry.86964fed.js"><link rel="prefetch" href="/assets/js/page-Dockerfile指令详解.49e99d2c.js"><link rel="prefetch" href="/assets/js/page-Dockerfile最佳实践.0ab30c03.js"><link rel="prefetch" href="/assets/js/page-Docker—从入门到实践.72838305.js"><link rel="prefetch" href="/assets/js/page-Docker三剑客之DockerSwarm.83f98cae.js"><link rel="prefetch" href="/assets/js/page-Docker中的网络功能介绍.2dbb8e70.js"><link rel="prefetch" href="/assets/js/page-Docker命令查询.81d40849.js"><link rel="prefetch" href="/assets/js/page-Docker容器.7128cea7.js"><link rel="prefetch" href="/assets/js/page-Docker数据管理.2a7fa7cd.js"><link rel="prefetch" href="/assets/js/page-Docker服务端的防护.c3a76df3.js"><link rel="prefetch" href="/assets/js/page-Docker网络实现.d0487a88.js"><link rel="prefetch" href="/assets/js/page-Docker镜像.837373e2.js"><link rel="prefetch" href="/assets/js/page-Drone.2723914d.js"><link rel="prefetch" href="/assets/js/page-DroneDemo.fd86ca6d.js"><link rel="prefetch" href="/assets/js/page-ENTRYPOINT入口点.97f74843.js"><link rel="prefetch" href="/assets/js/page-ENV设置环境变量.138505c6.js"><link rel="prefetch" href="/assets/js/page-EXPOSE声明端口.5c7fcc18.js"><link rel="prefetch" href="/assets/js/page-FedoraCoreOS.7c51e201.js"><link rel="prefetch" href="/assets/js/page-FedoraCoreOS介绍.aafb17db.js"><link rel="prefetch" href="/assets/js/page-Fedora安装Docker.d84e659f.js"><link rel="prefetch" href="/assets/js/page-GitHubActions.cd9f2991.js"><link rel="prefetch" href="/assets/js/page-HEALTHCHECK健康检查.1e5dba90.js"><link rel="prefetch" href="/assets/js/page-Kubernetes.5d552bbf.js"><link rel="prefetch" href="/assets/js/page-KubernetesDashboard.c76a1af5.js"><link rel="prefetch" href="/assets/js/page-LABEL指令.64c78b65.js"><link rel="prefetch" href="/assets/js/page-MongoDB.e5749084.js"><link rel="prefetch" href="/assets/js/page-MySQL.e68f1663.js"><link rel="prefetch" href="/assets/js/page-Nexus3x的私有仓库.476b796c.js"><link rel="prefetch" href="/assets/js/page-Nginx.9374f7d6.js"><link rel="prefetch" href="/assets/js/page-Nodejs.11d80711.js"><link rel="prefetch" href="/assets/js/page-ONBUILD为他人做嫁衣裳.54bcfff0.js"><link rel="prefetch" href="/assets/js/page-PHP.4e5409dc.js"><link rel="prefetch" href="/assets/js/page-Redis.1e655fbf.js"><link rel="prefetch" href="/assets/js/page-SHELL指令.ab523540.js"><link rel="prefetch" href="/assets/js/page-SWarmmode与滚动升级.3f2cd22e.js"><link rel="prefetch" href="/assets/js/page-Swarmmode.4142e2ce.js"><link rel="prefetch" href="/assets/js/page-USER指定当前用户.7bd699b2.js"><link rel="prefetch" href="/assets/js/page-Ubuntu.2fad0c68.js"><link rel="prefetch" href="/assets/js/page-Ubuntu安装Docker.a29391bf.js"><link rel="prefetch" href="/assets/js/page-VOLUME定义匿名卷.4a9b8840.js"><link rel="prefetch" href="/assets/js/page-VSCode中使用Docker.9e5e6b14.js"><link rel="prefetch" href="/assets/js/page-WORKDIR指定工作目录.a25365ac.js"><link rel="prefetch" href="/assets/js/page-Windows10安装Docker.ee510336.js"><link rel="prefetch" href="/assets/js/page-WordPress.b11832ed.js"><link rel="prefetch" href="/assets/js/page-etcd.e6dca652.js"><link rel="prefetch" href="/assets/js/page-etcd集群.ffeca0a9.js"><link rel="prefetch" href="/assets/js/page-kubectl使用.2da09cf4.js"><link rel="prefetch" href="/assets/js/page-macOS安装Docker.b715011f.js"><link rel="prefetch" href="/assets/js/page-minio.d96d9008.js"><link rel="prefetch" href="/assets/js/page-podman.6f063c91.js"><link rel="prefetch" href="/assets/js/page-一步步部署kubernetes集群.aac591f3.js"><link rel="prefetch" href="/assets/js/page-为什么要使用Docker？.77c7ff07.js"><link rel="prefetch" href="/assets/js/page-亚马逊云.2a0adf27.js"><link rel="prefetch" href="/assets/js/page-什么是Docker.22417fb0.js"><link rel="prefetch" href="/assets/js/page-什么是etcd.2898e985.js"><link rel="prefetch" href="/assets/js/page-使用.b1f880a8.js"><link rel="prefetch" href="/assets/js/page-使用BuildKit构建镜像.bec68dea.js"><link rel="prefetch" href="/assets/js/page-使用Buildx构建镜像.2e5c9dfc.js"><link rel="prefetch" href="/assets/js/page-使用Django.e76fa9cd.js"><link rel="prefetch" href="/assets/js/page-使用Dockerfile定制镜像.4805f4f0.js"><link rel="prefetch" href="/assets/js/page-使用Docker镜像.f4d6a961.js"><link rel="prefetch" href="/assets/js/page-使用Rails.2998d33d.js"><link rel="prefetch" href="/assets/js/page-使用WordPress.3dce194b.js"><link rel="prefetch" href="/assets/js/page-使用buildx构建多种系统架构支持的Docker镜像.38ec9e18.js"><link rel="prefetch" href="/assets/js/page-使用compose搭建LNMP环境.9cacbe88.js"><link rel="prefetch" href="/assets/js/page-使用etcdctl.7451812c.js"><link rel="prefetch" href="/assets/js/page-使用etcdctlv2.355e0834.js"><link rel="prefetch" href="/assets/js/page-使用kubeadm部署kubernetes.90ea2d22.js"><link rel="prefetch" href="/assets/js/page-修订记录.f2385ab1.js"><link rel="prefetch" href="/assets/js/page-其它制作镜像的方式.7c9f07c8.js"><link rel="prefetch" href="/assets/js/page-其它安全特性.8b1ccd27.js"><link rel="prefetch" href="/assets/js/page-内核命名空间.e2c7c39c.js"><link rel="prefetch" href="/assets/js/page-内核能力机制.47a76d52.js"><link rel="prefetch" href="/assets/js/page-列出镜像.cdbfefb8.js"><link rel="prefetch" href="/assets/js/page-创建Swarm集群.7759e247.js"><link rel="prefetch" href="/assets/js/page-删除容器.3d42345d.js"><link rel="prefetch" href="/assets/js/page-删除本地镜像.63871f73.js"><link rel="prefetch" href="/assets/js/page-利用commit理解镜像构成.12e1d95f.js"><link rel="prefetch" href="/assets/js/page-参考文档.29acc4db.js"><link rel="prefetch" href="/assets/js/page-后台运行.8bd9150d.js"><link rel="prefetch" href="/assets/js/page-启动容器.f1576dd4.js"><link rel="prefetch" href="/assets/js/page-命名空间.29d1b1f2.js"><link rel="prefetch" href="/assets/js/page-在IDE中使用Docker.98c751af.js"><link rel="prefetch" href="/assets/js/page-在Swarm集群中使用compose文件.d956dbb5.js"><link rel="prefetch" href="/assets/js/page-在Swarm集群中管理敏感数据.4cae160e.js"><link rel="prefetch" href="/assets/js/page-在Swarm集群中管理配置数据.99e57723.js"><link rel="prefetch" href="/assets/js/page-基本架构.943a2a47.js"><link rel="prefetch" href="/assets/js/page-基本概念.f41d0b46.js"><link rel="prefetch" href="/assets/js/page-外部访问容器.a1a65457.js"><link rel="prefetch" href="/assets/js/page-多阶段构建.fc9b1b29.js"><link rel="prefetch" href="/assets/js/page-如何调试Docker.f08891de.js"><link rel="prefetch" href="/assets/js/page-如何贡献.82c9fd2c.js"><link rel="prefetch" href="/assets/js/page-安全.0ea93810.js"><link rel="prefetch" href="/assets/js/page-安装.0243772e.js"><link rel="prefetch" href="/assets/js/page-安装Docker.156373c2.js"><link rel="prefetch" href="/assets/js/page-安装FedoraCoreOS.0ad6a316.js"><link rel="prefetch" href="/assets/js/page-安装与卸载.f1ca6734.js"><link rel="prefetch" href="/assets/js/page-实战多阶段构建Laravel镜像.d3885680.js"><link rel="prefetch" href="/assets/js/page-客户端命令(docker).412df0c2.js"><link rel="prefetch" href="/assets/js/page-容器与云计算.a890e9ed.js"><link rel="prefetch" href="/assets/js/page-容器互联.d0fd5480.js"><link rel="prefetch" href="/assets/js/page-容器格式.5aa5a1d8.js"><link rel="prefetch" href="/assets/js/page-容器访问控制.54b79801.js"><link rel="prefetch" href="/assets/js/page-导出和导入容器.57f4ffa4.js"><link rel="prefetch" href="/assets/js/page-工具和示例.a9ddf70d.js"><link rel="prefetch" href="/assets/js/page-常见问题总结.0bc9267e.js"><link rel="prefetch" href="/assets/js/page-底层实现.b1c178ce.js"><link rel="prefetch" href="/assets/js/page-开启实验特性.5423b1bb.js"><link rel="prefetch" href="/assets/js/page-归档项目.b5b96a00.js"><link rel="prefetch" href="/assets/js/page-快速配置指南.be502606.js"><link rel="prefetch" href="/assets/js/page-总结.9ef855a7.js"><link rel="prefetch" href="/assets/js/page-挂载主机目录.6f3a7d43.js"><link rel="prefetch" href="/assets/js/page-控制组.b4aeaf78.js"><link rel="prefetch" href="/assets/js/page-操作Docker容器.7f466877.js"><link rel="prefetch" href="/assets/js/page-操作系统.f86d33a0.js"><link rel="prefetch" href="/assets/js/page-数据卷.02364c94.js"><link rel="prefetch" href="/assets/js/page-映射容器端口到宿主主机的实现.6e0c6934.js"><link rel="prefetch" href="/assets/js/page-服务端命令(dockerd).1ffcef58.js"><link rel="prefetch" href="/assets/js/page-本章小结.2e1f7b16.js"><link rel="prefetch" href="/assets/js/page-构建多种系统架构支持的Docker镜像--dockermanifest命令详解.5b286a07.js"><link rel="prefetch" href="/assets/js/page-树莓派卡片电脑安装Docker.394b07e7.js"><link rel="prefetch" href="/assets/js/page-热门镜像介绍.3717fd30.js"><link rel="prefetch" href="/assets/js/page-示例：创建一个点到点连接.9dfe6541.js"><link rel="prefetch" href="/assets/js/page-离线部署Docker.9864e57e.js"><link rel="prefetch" href="/assets/js/page-私有仓库.7237f4df.js"><link rel="prefetch" href="/assets/js/page-私有仓库高级配置.33ca0632.js"><link rel="prefetch" href="/assets/js/page-简介.8662e9a3.js"><link rel="prefetch" href="/assets/js/page-终止容器.1d2c27d2.js"><link rel="prefetch" href="/assets/js/page-编辑网络配置文件.eb77c837.js"><link rel="prefetch" href="/assets/js/page-联合文件系统.97e63072.js"><link rel="prefetch" href="/assets/js/page-腾讯云.8b6113e8.js"><link rel="prefetch" href="/assets/js/page-自定义网桥.13a33ac3.js"><link rel="prefetch" href="/assets/js/page-获取镜像.691db7c2.js"><link rel="prefetch" href="/assets/js/page-访问仓库.0682a3fa.js"><link rel="prefetch" href="/assets/js/page-资源链接.96fd91a1.js"><link rel="prefetch" href="/assets/js/page-进入容器.8020b687.js"><link rel="prefetch" href="/assets/js/page-部署Drone.d53100a6.js"><link rel="prefetch" href="/assets/js/page-部署Kubernetes.22c482ec.js"><link rel="prefetch" href="/assets/js/page-部署服务.52a6b3e2.js"><link rel="prefetch" href="/assets/js/page-配置DNS.c9ab945d.js"><link rel="prefetch" href="/assets/js/page-配置docker0网桥.88b8f3a5.js"><link rel="prefetch" href="/assets/js/page-镜像加速器.59cafbbf.js"><link rel="prefetch" href="/assets/js/page-镜像的实现原理.c3d69d4d.js"><link rel="prefetch" href="/assets/js/page-阿里云.2a54fbee.js"><link rel="prefetch" href="/assets/js/page-附录.078ee79c.js"><link rel="prefetch" href="/assets/js/page-项目简介.857d9110.js"><link rel="prefetch" href="/assets/js/page-高级网络配置.05c7e1a2.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.ed099d94.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e122b7e6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><button class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">Docker 从入门到实践</span></a> <div class="links"><button class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><a href="#" class="default-theme"></a></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://docker_practice.gitee.io/pic/dpsig-wechat.jpg" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  微信交流群
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://docker_practice.gitee.io/pic/dp-wechat-miniprogram.jpg" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  小程序
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/install/" class="nav-link"><!---->
  安装 Docker
</a></div><div class="nav-item"><a href="/" class="nav-link router-link-active"><!---->
  Docker 入门
</a></div><div class="nav-item"><a href="/cases/os/" class="nav-link"><!---->
  Docker 实战
</a></div><div class="nav-item"><a href="/cases/ci/" class="nav-link"><!---->
  CI/CD
</a></div><div class="nav-item"><a href="/compose/" class="nav-link router-link-active active"><!---->
  Compose
</a></div><div class="nav-item"><a href="/kubernetes/" class="nav-link"><!---->
  Kubernetes
</a></div><div class="nav-item"><a href="/cloud/" class="nav-link"><!---->
  云计算
</a></div><div class="nav-item"><a href="https://cloud.tencent.com/act/cps/redirect?redirect=1062&amp;cps_key=3a5255852d5db99dcd5da4c72f05df61&amp;from=console" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  云服务器特惠
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/yeasy/docker_practice" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <nav class="sidebar-nav-links"><div class="nav-item"><a href="https://docker_practice.gitee.io/pic/dpsig-wechat.jpg" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  微信交流群
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://docker_practice.gitee.io/pic/dp-wechat-miniprogram.jpg" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  小程序
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/install/" class="nav-link"><!---->
  安装 Docker
</a></div><div class="nav-item"><a href="/" class="nav-link router-link-active"><!---->
  Docker 入门
</a></div><div class="nav-item"><a href="/cases/os/" class="nav-link"><!---->
  Docker 实战
</a></div><div class="nav-item"><a href="/cases/ci/" class="nav-link"><!---->
  CI/CD
</a></div><div class="nav-item"><a href="/compose/" class="nav-link router-link-active active"><!---->
  Compose
</a></div><div class="nav-item"><a href="/kubernetes/" class="nav-link"><!---->
  Kubernetes
</a></div><div class="nav-item"><a href="/cloud/" class="nav-link"><!---->
  云计算
</a></div><div class="nav-item"><a href="https://cloud.tencent.com/act/cps/redirect?redirect=1062&amp;cps_key=3a5255852d5db99dcd5da4c72f05df61&amp;from=console" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  云服务器特惠
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a rel="noopener noreferrer" href="https://github.com/yeasy/docker_practice" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/compose/introduction/" class="sidebar-link">Compose 简介</a></li><li><a href="/compose/install/" class="sidebar-link">安装与卸载</a></li><li><a href="/compose/usage/" class="sidebar-link">使用</a></li><li><a href="/compose/commands/" aria-current="page" class="active sidebar-link">Compose 命令说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/compose/commands/#命令对象与格式" class="sidebar-link">命令对象与格式</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#命令选项" class="sidebar-link">命令选项</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#命令使用说明" class="sidebar-link">命令使用说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/compose/commands/#build" class="sidebar-link heading3">build</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#config" class="sidebar-link heading3">config</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#down" class="sidebar-link heading3">down</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#exec" class="sidebar-link heading3">exec</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#help" class="sidebar-link heading3">help</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#images" class="sidebar-link heading3">images</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#kill" class="sidebar-link heading3">kill</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#logs" class="sidebar-link heading3">logs</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#pause" class="sidebar-link heading3">pause</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#port" class="sidebar-link heading3">port</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#ps" class="sidebar-link heading3">ps</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#pull" class="sidebar-link heading3">pull</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#push" class="sidebar-link heading3">push</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#restart" class="sidebar-link heading3">restart</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#rm" class="sidebar-link heading3">rm</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#run" class="sidebar-link heading3">run</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#scale" class="sidebar-link heading3">scale</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#start" class="sidebar-link heading3">start</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#stop" class="sidebar-link heading3">stop</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#top" class="sidebar-link heading3">top</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#unpause" class="sidebar-link heading3">unpause</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#up" class="sidebar-link heading3">up</a></li><li class="sidebar-sub-header"><a href="/compose/commands/#version" class="sidebar-link heading3">version</a></li></ul></li><li class="sidebar-sub-header"><a href="/compose/commands/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/compose/compose_file/" class="sidebar-link">Compose 模板文件</a></li><li><a href="/compose/django/" class="sidebar-link">使用 Django</a></li><li><a href="/compose/rails/" class="sidebar-link">使用 Rails</a></li><li><a href="/compose/wordpress/" class="sidebar-link">使用 WordPress</a></li><li><a href="/compose/lnmp/" class="sidebar-link">使用 compose 搭建 LNMP 环境</a></li></ul> </aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/compose/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">Docker Compose 项目</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/compose/commands/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">Compose 命令说明</span></a> <meta property="position" content="2"></li></ol></nav>  <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">Compose 命令说明</span></h1> <div class="page-info"><!----> <span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 7 min</span> <meta property="timeRequired" content="PT7M"></span><span aria-label="Words🔠" data-balloon-pos="down" class="words-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon word-icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 0 1 603.43 1.097a512 512 0 0 1 419.474 419.474 73.143 73.143 0 0 1-72.046 85.212H591.36a73.143 73.143 0 0 1-73.143-73.143z" fill="currentColor"></path> <path d="M493.714 566.857h340.297a73.143 73.143 0 0 1 73.143 85.577A457.143 457.143 0 1 1 371.566 117.76a73.143 73.143 0 0 1 85.577 73.143v339.383a36.571 36.571 0 0 0 36.571 36.571z" fill="currentColor"></path></svg> <span>About 1987 words</span> <meta property="wordCount" content="1987"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/compose/commands/#命令对象与格式" class="anchor-link heading2"><div>命令对象与格式</div></a></li><li class="anchor"><a href="/compose/commands/#命令选项" class="anchor-link heading2"><div>命令选项</div></a></li><li class="anchor"><a href="/compose/commands/#命令使用说明" class="anchor-link heading2"><div>命令使用说明</div></a></li><li class="anchor"><a href="/compose/commands/#build" class="anchor-link heading3"><div>build</div></a></li><li class="anchor"><a href="/compose/commands/#config" class="anchor-link heading3"><div>config</div></a></li><li class="anchor"><a href="/compose/commands/#down" class="anchor-link heading3"><div>down</div></a></li><li class="anchor"><a href="/compose/commands/#exec" class="anchor-link heading3"><div>exec</div></a></li><li class="anchor"><a href="/compose/commands/#help" class="anchor-link heading3"><div>help</div></a></li><li class="anchor"><a href="/compose/commands/#images" class="anchor-link heading3"><div>images</div></a></li><li class="anchor"><a href="/compose/commands/#kill" class="anchor-link heading3"><div>kill</div></a></li><li class="anchor"><a href="/compose/commands/#logs" class="anchor-link heading3"><div>logs</div></a></li><li class="anchor"><a href="/compose/commands/#pause" class="anchor-link heading3"><div>pause</div></a></li><li class="anchor"><a href="/compose/commands/#port" class="anchor-link heading3"><div>port</div></a></li><li class="anchor"><a href="/compose/commands/#ps" class="anchor-link heading3"><div>ps</div></a></li><li class="anchor"><a href="/compose/commands/#pull" class="anchor-link heading3"><div>pull</div></a></li><li class="anchor"><a href="/compose/commands/#push" class="anchor-link heading3"><div>push</div></a></li><li class="anchor"><a href="/compose/commands/#restart" class="anchor-link heading3"><div>restart</div></a></li><li class="anchor"><a href="/compose/commands/#rm" class="anchor-link heading3"><div>rm</div></a></li><li class="anchor"><a href="/compose/commands/#run" class="anchor-link heading3"><div>run</div></a></li><li class="anchor"><a href="/compose/commands/#scale" class="anchor-link heading3"><div>scale</div></a></li><li class="anchor"><a href="/compose/commands/#start" class="anchor-link heading3"><div>start</div></a></li><li class="anchor"><a href="/compose/commands/#stop" class="anchor-link heading3"><div>stop</div></a></li><li class="anchor"><a href="/compose/commands/#top" class="anchor-link heading3"><div>top</div></a></li><li class="anchor"><a href="/compose/commands/#unpause" class="anchor-link heading3"><div>unpause</div></a></li><li class="anchor"><a href="/compose/commands/#up" class="anchor-link heading3"><div>up</div></a></li><li class="anchor"><a href="/compose/commands/#version" class="anchor-link heading3"><div>version</div></a></li><li class="anchor"><a href="/compose/commands/#参考资料" class="anchor-link heading2"><div>参考资料</div></a></li></ul></div></aside></div> <div class="theme-default-content content__default"><h1 id="compose-命令说明"><a href="#compose-命令说明" class="header-anchor">#</a> Compose 命令说明</h1> <div data-v-1a9df5cc><blockquote style="display:;" data-v-1a9df5cc><a href="https://www.aliyun.com/activity/ambassador/share-gift/goods?taskCode=share618&amp;recordId=691752&amp;userCode=8lx5zmtu" target="_blank" rel="nofollow" style="text-decoration: none; width: 100%" data-v-1a9df5cc><div class="ads" data-v-1a9df5cc><div data-v-1a9df5cc><span class="name" data-v-1a9df5cc>
              阿里云
            </span> <span class="description" data-v-1a9df5cc>
              618 钜惠
            </span> <span class="description-strong" data-v-1a9df5cc>
              1 核 2G 79.86元/年 更多云产品爆款特惠
            </span> <span class="action" data-v-1a9df5cc>
              去看看
            </span> <span class="ads-text" data-v-1a9df5cc>广告</span></div></div></a></blockquote> </div> <h2 id="命令对象与格式"><a href="#命令对象与格式" class="header-anchor">#</a> 命令对象与格式</h2> <p>对于 Compose 来说，大部分命令的对象既可以是项目本身，也可以指定为项目中的服务或者容器。如果没有特别的说明，命令对象将是项目，这意味着项目中所有的服务都会受到命令影响。</p> <p>执行 <code>docker-compose [COMMAND] --help</code> 或者 <code>docker-compose help [COMMAND]</code> 可以查看具体某个命令的使用格式。</p> <p><code>docker-compose</code> 命令的基本的使用格式是</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>docker-compose <span class="token punctuation">[</span>-f<span class="token operator">=</span><span class="token operator">&lt;</span>arg<span class="token operator">&gt;</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span> <span class="token punctuation">[</span>ARGS<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="命令选项"><a href="#命令选项" class="header-anchor">#</a> 命令选项</h2> <ul><li><p><code>-f, --file FILE</code> 指定使用的 Compose 模板文件，默认为 <code>docker-compose.yml</code>，可以多次指定。</p></li> <li><p><code>-p, --project-name NAME</code> 指定项目名称，默认将使用所在目录名称作为项目名。</p></li> <li><p><code>--verbose</code> 输出更多调试信息。</p></li> <li><p><code>-v, --version</code> 打印版本并退出。</p></li></ul> <h2 id="命令使用说明"><a href="#命令使用说明" class="header-anchor">#</a> 命令使用说明</h2> <h3 id="build"><a href="#build" class="header-anchor">#</a> <code>build</code></h3> <p>格式为 <code>docker-compose build [options] [SERVICE...]</code>。</p> <p>构建（重新构建）项目中的服务容器。</p> <p>服务容器一旦构建后，将会带上一个标记名，例如对于 web 项目中的一个 db 容器，可能是 web_db。</p> <p>可以随时在项目目录下运行 <code>docker-compose build</code> 来重新构建服务。</p> <p>选项包括：</p> <ul><li><p><code>--force-rm</code> 删除构建过程中的临时容器。</p></li> <li><p><code>--no-cache</code> 构建镜像过程中不使用 cache（这将加长构建过程）。</p></li> <li><p><code>--pull</code> 始终尝试通过 pull 来获取更新版本的镜像。</p></li></ul> <h3 id="config"><a href="#config" class="header-anchor">#</a> <code>config</code></h3> <p>验证 Compose 文件格式是否正确，若正确则显示配置，若格式错误显示错误原因。</p> <h3 id="down"><a href="#down" class="header-anchor">#</a> <code>down</code></h3> <p>此命令将会停止 <code>up</code> 命令所启动的容器，并移除网络</p> <h3 id="exec"><a href="#exec" class="header-anchor">#</a> <code>exec</code></h3> <p>进入指定的容器。</p> <h3 id="help"><a href="#help" class="header-anchor">#</a> <code>help</code></h3> <p>获得一个命令的帮助。</p> <h3 id="images"><a href="#images" class="header-anchor">#</a> <code>images</code></h3> <p>列出 Compose 文件中包含的镜像。</p> <h3 id="kill"><a href="#kill" class="header-anchor">#</a> <code>kill</code></h3> <p>格式为 <code>docker-compose kill [options] [SERVICE...]</code>。</p> <p>通过发送 <code>SIGKILL</code> 信号来强制停止服务容器。</p> <p>支持通过 <code>-s</code> 参数来指定发送的信号，例如通过如下指令发送 <code>SIGINT</code> 信号。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker-compose <span class="token function">kill</span> -s SIGINT
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="logs"><a href="#logs" class="header-anchor">#</a> <code>logs</code></h3> <p>格式为 <code>docker-compose logs [options] [SERVICE...]</code>。</p> <p>查看服务容器的输出。默认情况下，docker-compose 将对不同的服务输出使用不同的颜色来区分。可以通过 <code>--no-color</code> 来关闭颜色。</p> <p>该命令在调试问题的时候十分有用。</p> <h3 id="pause"><a href="#pause" class="header-anchor">#</a> <code>pause</code></h3> <p>格式为 <code>docker-compose pause [SERVICE...]</code>。</p> <p>暂停一个服务容器。</p> <h3 id="port"><a href="#port" class="header-anchor">#</a> <code>port</code></h3> <p>格式为 <code>docker-compose port [options] SERVICE PRIVATE_PORT</code>。</p> <p>打印某个容器端口所映射的公共端口。</p> <p>选项：</p> <ul><li><p><code>--protocol=proto</code> 指定端口协议，tcp（默认值）或者 udp。</p></li> <li><p><code>--index=index</code> 如果同一服务存在多个容器，指定命令对象容器的序号（默认为 1）。</p></li></ul> <h3 id="ps"><a href="#ps" class="header-anchor">#</a> <code>ps</code></h3> <p>格式为 <code>docker-compose ps [options] [SERVICE...]</code>。</p> <p>列出项目中目前的所有容器。</p> <p>选项：</p> <ul><li><code>-q</code> 只打印容器的 ID 信息。</li></ul> <h3 id="pull"><a href="#pull" class="header-anchor">#</a> <code>pull</code></h3> <p>格式为 <code>docker-compose pull [options] [SERVICE...]</code>。</p> <p>拉取服务依赖的镜像。</p> <p>选项：</p> <ul><li><code>--ignore-pull-failures</code> 忽略拉取镜像过程中的错误。</li></ul> <h3 id="push"><a href="#push" class="header-anchor">#</a> <code>push</code></h3> <p>推送服务依赖的镜像到 Docker 镜像仓库。</p> <h3 id="restart"><a href="#restart" class="header-anchor">#</a> <code>restart</code></h3> <p>格式为 <code>docker-compose restart [options] [SERVICE...]</code>。</p> <p>重启项目中的服务。</p> <p>选项：</p> <ul><li><code>-t, --timeout TIMEOUT</code> 指定重启前停止容器的超时（默认为 10 秒）。</li></ul> <h3 id="rm"><a href="#rm" class="header-anchor">#</a> <code>rm</code></h3> <p>格式为 <code>docker-compose rm [options] [SERVICE...]</code>。</p> <p>删除所有（停止状态的）服务容器。推荐先执行 <code>docker-compose stop</code> 命令来停止容器。</p> <p>选项：</p> <ul><li><p><code>-f, --force</code> 强制直接删除，包括非停止状态的容器。一般尽量不要使用该选项。</p></li> <li><p><code>-v</code> 删除容器所挂载的数据卷。</p></li></ul> <h3 id="run"><a href="#run" class="header-anchor">#</a> <code>run</code></h3> <p>格式为 <code>docker-compose run [options] [-p PORT...] [-e KEY=VAL...] SERVICE [COMMAND] [ARGS...]</code>。</p> <p>在指定服务上执行一个命令。</p> <p>例如：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker-compose run ubuntu <span class="token function">ping</span> docker.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将会启动一个 ubuntu 服务容器，并执行 <code>ping docker.com</code> 命令。</p> <p>默认情况下，如果存在关联，则所有关联的服务将会自动被启动，除非这些服务已经在运行中。</p> <p>该命令类似启动容器后运行指定的命令，相关卷、链接等等都将会按照配置自动创建。</p> <p>两个不同点：</p> <ul><li><p>给定命令将会覆盖原有的自动运行命令；</p></li> <li><p>不会自动创建端口，以避免冲突。</p></li></ul> <p>如果不希望自动启动关联的容器，可以使用 <code>--no-deps</code> 选项，例如</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker-compose run --no-deps web python manage.py shell
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将不会启动 web 容器所关联的其它容器。</p> <p>选项：</p> <ul><li><p><code>-d</code> 后台运行容器。</p></li> <li><p><code>--name NAME</code> 为容器指定一个名字。</p></li> <li><p><code>--entrypoint CMD</code> 覆盖默认的容器启动指令。</p></li> <li><p><code>-e KEY=VAL</code> 设置环境变量值，可多次使用选项来设置多个环境变量。</p></li> <li><p><code>-u, --user=&quot;&quot;</code> 指定运行容器的用户名或者 uid。</p></li> <li><p><code>--no-deps</code> 不自动启动关联的服务容器。</p></li> <li><p><code>--rm</code> 运行命令后自动删除容器，<code>d</code> 模式下将忽略。</p></li> <li><p><code>-p, --publish=[]</code> 映射容器端口到本地主机。</p></li> <li><p><code>--service-ports</code> 配置服务端口并映射到本地主机。</p></li> <li><p><code>-T</code> 不分配伪 tty，意味着依赖 tty 的指令将无法运行。</p></li></ul> <h3 id="scale"><a href="#scale" class="header-anchor">#</a> <code>scale</code></h3> <p>格式为 <code>docker-compose scale [options] [SERVICE=NUM...]</code>。</p> <p>设置指定服务运行的容器个数。</p> <p>通过 <code>service=num</code> 的参数来设置数量。例如：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ docker-compose scale <span class="token assign-left variable">web</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">db</span><span class="token operator">=</span><span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将启动 3 个容器运行 web 服务，2 个容器运行 db 服务。</p> <p>一般的，当指定数目多于该服务当前实际运行容器，将新创建并启动容器；反之，将停止容器。</p> <p>选项：</p> <ul><li><code>-t, --timeout TIMEOUT</code> 停止容器时候的超时（默认为 10 秒）。</li></ul> <h3 id="start"><a href="#start" class="header-anchor">#</a> <code>start</code></h3> <p>格式为 <code>docker-compose start [SERVICE...]</code>。</p> <p>启动已经存在的服务容器。</p> <h3 id="stop"><a href="#stop" class="header-anchor">#</a> <code>stop</code></h3> <p>格式为 <code>docker-compose stop [options] [SERVICE...]</code>。</p> <p>停止已经处于运行状态的容器，但不删除它。通过 <code>docker-compose start</code> 可以再次启动这些容器。</p> <p>选项：</p> <ul><li><code>-t, --timeout TIMEOUT</code> 停止容器时候的超时（默认为 10 秒）。</li></ul> <h3 id="top"><a href="#top" class="header-anchor">#</a> <code>top</code></h3> <p>查看各个服务容器内运行的进程。</p> <h3 id="unpause"><a href="#unpause" class="header-anchor">#</a> <code>unpause</code></h3> <p>格式为 <code>docker-compose unpause [SERVICE...]</code>。</p> <p>恢复处于暂停状态中的服务。</p> <h3 id="up"><a href="#up" class="header-anchor">#</a> <code>up</code></h3> <p>格式为 <code>docker-compose up [options] [SERVICE...]</code>。</p> <p>该命令十分强大，它将尝试自动完成包括构建镜像，（重新）创建服务，启动服务，并关联服务相关容器的一系列操作。</p> <p>链接的服务都将会被自动启动，除非已经处于运行状态。</p> <p>可以说，大部分时候都可以直接通过该命令来启动一个项目。</p> <p>默认情况，<code>docker-compose up</code> 启动的容器都在前台，控制台将会同时打印所有容器的输出信息，可以很方便进行调试。</p> <p>当通过 <code>Ctrl-C</code> 停止命令时，所有容器将会停止。</p> <p>如果使用 <code>docker-compose up -d</code>，将会在后台启动并运行所有的容器。一般推荐生产环境下使用该选项。</p> <p>默认情况，如果服务容器已经存在，<code>docker-compose up</code> 将会尝试停止容器，然后重新创建（保持使用 <code>volumes-from</code> 挂载的卷），以保证新启动的服务匹配 <code>docker-compose.yml</code> 文件的最新内容。如果用户不希望容器被停止并重新创建，可以使用 <code>docker-compose up --no-recreate</code>。这样将只会启动处于停止状态的容器，而忽略已经运行的服务。如果用户只想重新部署某个服务，可以使用 <code>docker-compose up --no-deps -d &lt;SERVICE_NAME&gt;</code> 来重新创建服务并后台停止旧服务，启动新服务，并不会影响到其所依赖的服务。</p> <p>选项：</p> <ul><li><p><code>-d</code> 在后台运行服务容器。</p></li> <li><p><code>--no-color</code> 不使用颜色来区分不同的服务的控制台输出。</p></li> <li><p><code>--no-deps</code> 不启动服务所链接的容器。</p></li> <li><p><code>--force-recreate</code> 强制重新创建容器，不能与 <code>--no-recreate</code> 同时使用。</p></li> <li><p><code>--no-recreate</code> 如果容器已经存在了，则不重新创建，不能与 <code>--force-recreate</code> 同时使用。</p></li> <li><p><code>--no-build</code> 不自动构建缺失的服务镜像。</p></li> <li><p><code>-t, --timeout TIMEOUT</code> 停止容器时候的超时（默认为 10 秒）。</p></li></ul> <h3 id="version"><a href="#version" class="header-anchor">#</a> <code>version</code></h3> <p>格式为 <code>docker-compose version</code>。</p> <p>打印版本信息。</p> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li><a href="https://docs.docker.com/compose/reference/overview/" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/yeasy/docker_practice/edit/master//compose/commands.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">May 28, 2021 13:50</span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/compose/usage/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        使用
      </a></span> <span class="next"><a href="/compose/compose_file/">
        Compose 模板文件
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> </main> <footer class="footer-wrapper"><!----> <div class="footer">Made with <a target='_blank' href='https://github.com/vuepress-theme-hope/vuepress-theme-hope'>vuepress-theme-hope</a></div> <!----></footer></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.3c5c2021.js" defer></script><script src="/assets/js/vendors~layout-Layout.5d5ca79a.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.9b265b09.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.8dcd10ac.js" defer></script><script src="/assets/js/page-Compose命令说明.04676b11.js" defer></script><script src="/assets/js/182.998854d2.js" defer></script>
  </body>
</html>
