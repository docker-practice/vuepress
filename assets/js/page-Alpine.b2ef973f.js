(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{422:function(e,a,s){e.exports=s.p+"assets/img/alpinelinux-logo.e9604680.png"},530:function(e,a,s){"use strict";s.r(a);var n=s(1),t=Object(n.a)({},(function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"alpine"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#alpine"}},[e._v("#")]),e._v(" Alpine")]),e._v(" "),n("AdSenseTitle"),e._v(" "),n("h2",{attrs:{id:"简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[e._v("#")]),e._v(" 简介")]),e._v(" "),n("p",[n("img",{attrs:{src:s(422),alt:"Alpine Linux 操作系统"}})]),e._v(" "),n("p",[n("code",[e._v("Alpine")]),e._v(" 操作系统是一个面向安全的轻型 "),n("code",[e._v("Linux")]),e._v(" 发行版。它不同于通常 "),n("code",[e._v("Linux")]),e._v(" 发行版，"),n("code",[e._v("Alpine")]),e._v(" 采用了 "),n("code",[e._v("musl libc")]),e._v(" 和 "),n("code",[e._v("busybox")]),e._v(" 以减小系统的体积和运行时资源消耗，但功能上比 "),n("code",[e._v("busybox")]),e._v(" 又完善的多，因此得到开源社区越来越多的青睐。在保持瘦身的同时，"),n("code",[e._v("Alpine")]),e._v(" 还提供了自己的包管理工具 "),n("code",[e._v("apk")]),e._v("，可以通过 "),n("code",[e._v("https://pkgs.alpinelinux.org/packages")]),e._v(" 网站上查询包信息，也可以直接通过 "),n("code",[e._v("apk")]),e._v(" 命令直接查询和安装各种软件。")]),e._v(" "),n("p",[n("code",[e._v("Alpine")]),e._v(" 由非商业组织维护的，支持广泛场景的 "),n("code",[e._v("Linux")]),e._v("发行版，它特别为资深/重度"),n("code",[e._v("Linux")]),e._v("用户而优化，关注安全，性能和资源效能。"),n("code",[e._v("Alpine")]),e._v(" 镜像可以适用于更多常用场景，并且是一个优秀的可以适用于生产的基础系统/环境。")]),e._v(" "),n("p",[n("code",[e._v("Alpine")]),e._v(" Docker 镜像也继承了 "),n("code",[e._v("Alpine Linux")]),e._v(" 发行版的这些优势。相比于其他 "),n("code",[e._v("Docker")]),e._v(" 镜像，它的容量非常小，仅仅只有 "),n("strong",[e._v("5 MB")]),e._v(" 左右（对比 "),n("code",[e._v("Ubuntu")]),e._v(" 系列镜像接近 "),n("code",[e._v("200 MB")]),e._v("），且拥有非常友好的包管理机制。官方镜像来自 "),n("code",[e._v("docker-alpine")]),e._v(" 项目。")]),e._v(" "),n("p",[e._v("目前 Docker 官方已开始推荐使用 "),n("code",[e._v("Alpine")]),e._v(" 替代之前的 "),n("code",[e._v("Ubuntu")]),e._v(" 做为基础镜像环境。这样会带来多个好处。包括镜像下载速度加快，镜像安全性提高，主机之间的切换更方便，占用更少磁盘空间等。")]),e._v(" "),n("p",[e._v("下表是官方镜像的大小比较：")]),e._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("REPOSITORY          TAG           IMAGE ID          VIRTUAL SIZE\nalpine              latest        4e38e38c8ce0      "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("4.799")]),e._v(" MB\ndebian              latest        4d6ce913b130      "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("84.98")]),e._v(" MB\nubuntu              latest        b39b81afc8ca      "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("188.3")]),e._v(" MB\ncentos              latest        8efe422e6104      "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("210")]),e._v(" MB\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])]),n("h2",{attrs:{id:"获取并使用官方镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取并使用官方镜像"}},[e._v("#")]),e._v(" 获取并使用官方镜像")]),e._v(" "),n("p",[e._v("由于镜像很小，下载时间往往很短，读者可以直接使用 "),n("code",[e._v("docker run")]),e._v(" 指令直接运行一个 "),n("code",[e._v("Alpine")]),e._v(" 容器，并指定运行的 Linux 指令，例如：")]),e._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("$ docker run alpine "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'123'")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("123")]),e._v("\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("h2",{attrs:{id:"迁移至-alpine-基础镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#迁移至-alpine-基础镜像"}},[e._v("#")]),e._v(" 迁移至 "),n("code",[e._v("Alpine")]),e._v(" 基础镜像")]),e._v(" "),n("p",[e._v("目前，大部分 Docker 官方镜像都已经支持 "),n("code",[e._v("Alpine")]),e._v(" 作为基础镜像，可以很容易进行迁移。")]),e._v(" "),n("p",[e._v("例如：")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("ubuntu/debian")]),e._v(" -> "),n("code",[e._v("alpine")])]),e._v(" "),n("li",[n("code",[e._v("python:3")]),e._v(" -> "),n("code",[e._v("python:3-alpine")])]),e._v(" "),n("li",[n("code",[e._v("ruby:2.6")]),e._v(" -> "),n("code",[e._v("ruby:2.6-alpine")])])]),e._v(" "),n("p",[e._v("另外，如果使用 "),n("code",[e._v("Alpine")]),e._v(" 镜像替换 "),n("code",[e._v("Ubuntu")]),e._v(" 基础镜像，安装软件包时需要用 "),n("code",[e._v("apk")]),e._v(" 包管理器替换 "),n("code",[e._v("apt")]),e._v(" 工具，如")]),e._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("$ apk "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" --no-cache "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("package"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[n("code",[e._v("Alpine")]),e._v(" 中软件安装包的名字可能会与其他发行版有所不同，可以在 "),n("code",[e._v("https://pkgs.alpinelinux.org/packages")]),e._v(" 网站搜索并确定安装包名称。如果需要的安装包不在主索引内，但是在测试或社区索引中。那么可以按照以下方法使用这些安装包。")]),e._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://dl-cdn.alpinelinux.org/alpine/edge/testing"')]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v(" /etc/apk/repositories\n$ apk --update "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" --no-cache "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("package"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("p",[e._v("由于在国内访问 "),n("code",[e._v("apk")]),e._v(" 仓库较缓慢，建议在使用 "),n("code",[e._v("apk")]),e._v(" 之前先替换仓库地址为国内镜像。")]),e._v(" "),n("div",{staticClass:"language-docker line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-docker"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("RUN")]),e._v(" sed "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("i "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"s/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g"')]),e._v(" /etc/apk/repositories \\\n      && apk add "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("no"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v("cache <package"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")]),e._v("\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("h2",{attrs:{id:"相关资源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相关资源"}},[e._v("#")]),e._v(" 相关资源")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("Alpine")]),e._v(" 官网：https://www.alpinelinux.org/")]),e._v(" "),n("li",[n("code",[e._v("Alpine")]),e._v(" 官方仓库：https://github.com/alpinelinux")]),e._v(" "),n("li",[n("code",[e._v("Alpine")]),e._v(" 官方镜像：https://hub.docker.com/_/alpine/")]),e._v(" "),n("li",[n("code",[e._v("Alpine")]),e._v(" 官方镜像仓库：https://github.com/gliderlabs/docker-alpine")])])],1)}),[],!1,null,null,null);a.default=t.exports}}]);