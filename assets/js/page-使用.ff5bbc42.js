(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{553:function(s,a,t){"use strict";t.r(a);var e=t(1),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),t("AdSenseTitle"),s._v(" "),t("h2",{attrs:{id:"术语"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#术语"}},[s._v("#")]),s._v(" 术语")]),s._v(" "),t("p",[s._v("首先介绍几个术语。")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("服务 ("),t("code",[s._v("service")]),s._v(")：一个应用容器，实际上可以运行多个相同镜像的实例。")])]),s._v(" "),t("li",[t("p",[s._v("项目 ("),t("code",[s._v("project")]),s._v(")：由一组关联的应用容器组成的一个完整业务单元。")])])]),s._v(" "),t("p",[s._v("可见，一个项目可以由多个服务（容器）关联而成，"),t("code",[s._v("Compose")]),s._v(" 面向项目进行管理。")]),s._v(" "),t("h2",{attrs:{id:"场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#场景"}},[s._v("#")]),s._v(" 场景")]),s._v(" "),t("p",[s._v("最常见的项目是 web 网站，该项目应该包含 web 应用和缓存。")]),s._v(" "),t("p",[s._v("下面我们用 "),t("code",[s._v("Python")]),s._v(" 来建立一个能够记录页面访问次数的 web 网站。")]),s._v(" "),t("h3",{attrs:{id:"web-应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web-应用"}},[s._v("#")]),s._v(" web 应用")]),s._v(" "),t("p",[s._v("新建文件夹，在该目录中编写 "),t("code",[s._v("app.py")]),s._v(" 文件")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" flask "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Flask\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" redis "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Redis\n\napp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Flask"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__name__"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nredis "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Redis"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'redis'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("route")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("hello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    count "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" redis"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("incr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hits'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hello World! 该页面已被访问 {} 次。\\n'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("count"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"__main__"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("run"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.0.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" debug"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h3",{attrs:{id:"dockerfile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[s._v("#")]),s._v(" Dockerfile")]),s._v(" "),t("p",[s._v("编写 "),t("code",[s._v("Dockerfile")]),s._v(" 文件，内容为")]),s._v(" "),t("div",{staticClass:"language-docker line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" python"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("3.6"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("alpine\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" . /code\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WORKDIR")]),s._v(" /code\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RUN")]),s._v(" pip install redis flask\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CMD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"python"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app.py"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"docker-compose-yml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-yml"}},[s._v("#")]),s._v(" docker-compose.yml")]),s._v(" "),t("p",[s._v("编写 "),t("code",[s._v("docker-compose.yml")]),s._v(" 文件，这个是 Compose 使用的主模板文件。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("web")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" .\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5000:5000"')]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("redis")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"redis:alpine"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"运行-compose-项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行-compose-项目"}},[s._v("#")]),s._v(" 运行 compose 项目")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ docker-compose up\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("此时访问本地 "),t("code",[s._v("5000")]),s._v(" 端口，每次刷新页面，计数就会加 1。")])],1)}),[],!1,null,null,null);a.default=n.exports},631:function(s,a,t){"use strict";t.r(a);var e=t(1),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),t("p",[s._v("Docker Machine 支持多种后端驱动，包括虚拟机、本地主机和云平台等。")]),s._v(" "),t("h3",{attrs:{id:"创建本地主机实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建本地主机实例"}},[s._v("#")]),s._v(" 创建本地主机实例")]),s._v(" "),t("h4",{attrs:{id:"virtualbox-驱动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#virtualbox-驱动"}},[s._v("#")]),s._v(" Virtualbox 驱动")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("virtualbox")]),s._v(" 类型的驱动，创建一台 Docker 主机，命名为 test。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ docker-machine create -d virtualbox "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("你也可以在创建时加上如下参数，来配置主机或者主机上的 Docker。")]),s._v(" "),t("p",[t("code",[s._v("--engine-opt dns=114.114.114.114")]),s._v(" 配置 Docker 的默认 DNS")]),s._v(" "),t("p",[t("code",[s._v("--engine-registry-mirror https://hub-mirror.c.163.com")]),s._v(" 配置 Docker 的仓库镜像")]),s._v(" "),t("p",[t("code",[s._v("--virtualbox-memory 2048")]),s._v(" 配置主机内存")]),s._v(" "),t("p",[t("code",[s._v("--virtualbox-cpu-count 2")]),s._v(" 配置主机 CPU")]),s._v(" "),t("p",[s._v("更多参数请使用 "),t("code",[s._v("docker-machine create --driver virtualbox --help")]),s._v(" 命令查看。")]),s._v(" "),t("h4",{attrs:{id:"macos-xhyve-驱动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#macos-xhyve-驱动"}},[s._v("#")]),s._v(" macOS xhyve 驱动")]),s._v(" "),t("p",[t("code",[s._v("xhyve")]),s._v(" 驱动 GitHub: https://github.com/zchee/docker-machine-driver-xhyve")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/mist64/xhyve",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("xhyve")]),t("OutboundLink")],1),s._v(" 是 macOS 上轻量化的虚拟引擎，使用其创建的 Docker Machine 较 "),t("code",[s._v("VirtualBox")]),s._v(" 驱动创建的运行效率要高。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ brew "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-machine-driver-xhyve\n\n$ docker-machine create "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n      -d xhyve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --xhyve-boot2docker-url ~/.docker/machine/cache/boot2docker.iso \\")]),s._v("\n      --engine-opt "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dns")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("114.114")]),s._v(".114.114 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n      --engine-registry-mirror https://hub-mirror.c.163.com "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n      --xhyve-memory-size "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n      --xhyve-rawdisk "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n      --xhyve-cpu-count "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n      xhyve\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("blockquote",[t("p",[s._v("注意：非首次创建时建议加上 "),t("code",[s._v("--xhyve-boot2docker-url ~/.docker/machine/cache/boot2docker.iso")]),s._v(" 参数，避免每次创建时都从 GitHub 下载 ISO 镜像。")])]),s._v(" "),t("p",[s._v("更多参数请使用 "),t("code",[s._v("docker-machine create --driver xhyve --help")]),s._v(" 命令查看。")]),s._v(" "),t("h4",{attrs:{id:"windows-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows-10"}},[s._v("#")]),s._v(" Windows 10")]),s._v(" "),t("p",[s._v("Windows 10 安装 Docker Desktop for Windows 之后不能再安装 VirtualBox，也就不能使用 "),t("code",[s._v("virtualbox")]),s._v(" 驱动来创建 Docker Machine，我们可以选择使用 "),t("code",[s._v("hyperv")]),s._v(" 驱动。")]),s._v(" "),t("blockquote",[t("p",[s._v("注意，必须事先在 "),t("code",[s._v("Hyper-V")]),s._v(" 管理器中新建一个 "),t("strong",[s._v("外部虚拟交换机")]),s._v(" 执行下面的命令时，使用 "),t("code",[s._v("--hyperv-virtual-switch=MY_SWITCH")]),s._v(" 指定虚拟交换机名称")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ docker-machine create --driver hyperv --hyperv-virtual-switch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("MY_SWITCH vm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("更多参数请使用 "),t("code",[s._v("docker-machine create --driver hyperv --help")]),s._v(" 命令查看。")]),s._v(" "),t("h3",{attrs:{id:"使用介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用介绍"}},[s._v("#")]),s._v(" 使用介绍")]),s._v(" "),t("p",[s._v("创建好主机之后，查看主机")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ docker-machine "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n\nNAME      ACTIVE   DRIVER       STATE     URL                         SWARM   DOCKER       ERRORS\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("      -        virtualbox   Running   tcp://192.168.99.187:2376           v17.10.0-ce\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("创建主机成功后，可以通过 "),t("code",[s._v("env")]),s._v(" 命令来让后续操作对象都是目标主机。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ docker-machine "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("后续根据提示在命令行输入命令之后就可以操作 test 主机。")]),s._v(" "),t("p",[s._v("也可以通过 "),t("code",[s._v("SSH")]),s._v(" 登录到主机。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ docker-machine "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n\ndocker@test:~$ docker --version\nDocker version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17.10")]),s._v(".0-ce, build f4ffd25\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("连接到主机之后你就可以在其上使用 Docker 了。")]),s._v(" "),t("h3",{attrs:{id:"官方支持驱动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#官方支持驱动"}},[s._v("#")]),s._v(" 官方支持驱动")]),s._v(" "),t("p",[s._v("通过 "),t("code",[s._v("-d")]),s._v(" 选项可以选择支持的驱动类型。")]),s._v(" "),t("ul",[t("li",[s._v("amazonec2")]),s._v(" "),t("li",[s._v("azure")]),s._v(" "),t("li",[s._v("digitalocean")]),s._v(" "),t("li",[s._v("exoscale")]),s._v(" "),t("li",[s._v("generic")]),s._v(" "),t("li",[s._v("google")]),s._v(" "),t("li",[s._v("hyperv")]),s._v(" "),t("li",[s._v("none")]),s._v(" "),t("li",[s._v("openstack")]),s._v(" "),t("li",[s._v("rackspace")]),s._v(" "),t("li",[s._v("softlayer")]),s._v(" "),t("li",[s._v("virtualbox")]),s._v(" "),t("li",[s._v("vmwarevcloudair")]),s._v(" "),t("li",[s._v("vmwarefusion")]),s._v(" "),t("li",[s._v("vmwarevsphere")])]),s._v(" "),t("h3",{attrs:{id:"第三方驱动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第三方驱动"}},[s._v("#")]),s._v(" 第三方驱动")]),s._v(" "),t("p",[s._v("请到 "),t("a",{attrs:{href:"https://github.com/docker/docker.github.io/blob/master/machine/AVAILABLE_DRIVER_PLUGINS.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("第三方驱动列表"),t("OutboundLink")],1),s._v(" 查看")]),s._v(" "),t("h3",{attrs:{id:"操作命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#操作命令"}},[s._v("#")]),s._v(" 操作命令")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("active")]),s._v("                查看活跃的 Docker 主机")]),s._v(" "),t("li",[t("code",[s._v("config")]),s._v("                输出连接的配置信息")]),s._v(" "),t("li",[t("code",[s._v("create")]),s._v("                创建一个 Docker 主机")]),s._v(" "),t("li",[t("code",[s._v("env")]),s._v("                   显示连接到某个主机需要的环境变量")]),s._v(" "),t("li",[t("code",[s._v("inspect")]),s._v("               输出主机更多信息")]),s._v(" "),t("li",[t("code",[s._v("ip")]),s._v("                    获取主机地址")]),s._v(" "),t("li",[t("code",[s._v("kill")]),s._v("                  停止某个主机")]),s._v(" "),t("li",[t("code",[s._v("ls")]),s._v("                    列出所有管理的主机")]),s._v(" "),t("li",[t("code",[s._v("provision")]),s._v("             重新设置一个已存在的主机")]),s._v(" "),t("li",[t("code",[s._v("regenerate-certs")]),s._v("      为某个主机重新生成 TLS 认证信息")]),s._v(" "),t("li",[t("code",[s._v("restart")]),s._v("               重启主机")]),s._v(" "),t("li",[t("code",[s._v("rm")]),s._v("                    删除某台主机")]),s._v(" "),t("li",[t("code",[s._v("ssh")]),s._v("                   SSH 到主机上执行命令")]),s._v(" "),t("li",[t("code",[s._v("scp")]),s._v("                   在主机之间复制文件")]),s._v(" "),t("li",[t("code",[s._v("mount")]),s._v("                 挂载主机目录到本地")]),s._v(" "),t("li",[t("code",[s._v("start")]),s._v("                 启动一个主机")]),s._v(" "),t("li",[t("code",[s._v("status")]),s._v("                查看主机状态")]),s._v(" "),t("li",[t("code",[s._v("stop")]),s._v("                  停止一个主机")]),s._v(" "),t("li",[t("code",[s._v("upgrade")]),s._v("               更新主机 Docker 版本为最新")]),s._v(" "),t("li",[t("code",[s._v("url")]),s._v("                   获取主机的 URL")]),s._v(" "),t("li",[t("code",[s._v("version")]),s._v("               输出 docker-machine 版本信息")]),s._v(" "),t("li",[t("code",[s._v("help")]),s._v("                  输出帮助信息")])]),s._v(" "),t("p",[s._v("每个命令，又带有不同的参数，可以通过")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ docker-machine COMMAND --help\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("来查看具体的用法。")])])}),[],!1,null,null,null);a.default=n.exports}}]);