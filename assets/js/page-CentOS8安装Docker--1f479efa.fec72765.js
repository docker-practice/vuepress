(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{543:function(e,a,s){"use strict";s.r(a);var t=s(3),r=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"centos8-安装-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos8-安装-docker"}},[e._v("#")]),e._v(" CentOS8 安装 Docker")]),e._v(" "),s("AdSenseTitle"),e._v(" "),s("p",[e._v("当前官方版本的 Docker "),s("a",{attrs:{href:"https://download.docker.com/linux/centos/",target:"_blank",rel:"noopener noreferrer"}},[e._v("尚未支持"),s("OutboundLink")],1),e._v(" CentOS8，我们可以使用 Moby 项目维护者 AkihiroSuda 所构建的包，具体请参考 https://github.com/AkihiroSuda/moby-snapshot")]),e._v(" "),s("h2",{attrs:{id:"设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置"}},[e._v("#")]),e._v(" 设置")]),e._v(" "),s("p",[e._v("由于 CentOS8 防火墙使用了 "),s("code",[e._v("nftables")]),e._v("，但 Docker 尚未支持 "),s("code",[e._v("nftables")]),e._v("， 我们可以使用如下设置使用 "),s("code",[e._v("iptables")]),e._v("：")]),e._v(" "),s("p",[e._v("更改 "),s("code",[e._v("/etc/firewalld/firewalld.conf")])]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# FirewallBackend=nftables")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("FirewallBackend")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("iptables\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("或者执行如下命令：")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("$ firewall-cmd --permanent --zone"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("trusted --add-interface"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("docker0\n\n$ firewall-cmd --reload\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("h2",{attrs:{id:"参考链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[e._v("#")]),e._v(" 参考链接")]),e._v(" "),s("ul",[s("li",[e._v("https://firewalld.org/2018/07/nftables-backend")]),e._v(" "),s("li",[e._v("https://github.com/moby/libnetwork/issues/2496")])])],1)}),[],!1,null,null,null);a.default=r.exports}}]);