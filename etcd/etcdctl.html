<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用 etcdctl | Docker 从入门到实践</title>
    <meta name="generator" content="VuePress 1.5.2">
    <script>
  var _hmt = _hmt || [];
  (function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?81a3490c9cd141dbcf6d00bc18b6edae";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script>
    <script>
  (function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
  </script>
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.34d67128.css" as="style"><link rel="preload" href="/assets/js/app.645d0234.js" as="script"><link rel="preload" href="/assets/js/2.7df55174.js" as="script"><link rel="preload" href="/assets/js/91.03b75cf0.js" as="script"><link rel="prefetch" href="/assets/js/10.8bacc754.js"><link rel="prefetch" href="/assets/js/100.6b0704b2.js"><link rel="prefetch" href="/assets/js/101.e4bf370f.js"><link rel="prefetch" href="/assets/js/102.2367419f.js"><link rel="prefetch" href="/assets/js/103.e34310eb.js"><link rel="prefetch" href="/assets/js/104.fa731afd.js"><link rel="prefetch" href="/assets/js/105.ed20f9ea.js"><link rel="prefetch" href="/assets/js/106.b9712fc0.js"><link rel="prefetch" href="/assets/js/107.331cdda8.js"><link rel="prefetch" href="/assets/js/108.1f30d358.js"><link rel="prefetch" href="/assets/js/109.67a58e7a.js"><link rel="prefetch" href="/assets/js/11.bd22113c.js"><link rel="prefetch" href="/assets/js/110.4dccc48e.js"><link rel="prefetch" href="/assets/js/111.fc20cd1f.js"><link rel="prefetch" href="/assets/js/112.372be19b.js"><link rel="prefetch" href="/assets/js/113.907adcc3.js"><link rel="prefetch" href="/assets/js/114.03bdfe87.js"><link rel="prefetch" href="/assets/js/115.ce72db10.js"><link rel="prefetch" href="/assets/js/116.955eba00.js"><link rel="prefetch" href="/assets/js/117.92b644e2.js"><link rel="prefetch" href="/assets/js/118.a1425d03.js"><link rel="prefetch" href="/assets/js/119.39d489b1.js"><link rel="prefetch" href="/assets/js/12.ed329f40.js"><link rel="prefetch" href="/assets/js/120.87a0c7ff.js"><link rel="prefetch" href="/assets/js/121.3e71e0cd.js"><link rel="prefetch" href="/assets/js/122.6e445bec.js"><link rel="prefetch" href="/assets/js/123.9c70d744.js"><link rel="prefetch" href="/assets/js/124.417a083b.js"><link rel="prefetch" href="/assets/js/125.1fac9d3a.js"><link rel="prefetch" href="/assets/js/126.85bf0c22.js"><link rel="prefetch" href="/assets/js/127.4494c327.js"><link rel="prefetch" href="/assets/js/128.c380049e.js"><link rel="prefetch" href="/assets/js/129.2f027e9d.js"><link rel="prefetch" href="/assets/js/13.f353a11f.js"><link rel="prefetch" href="/assets/js/130.acab38b4.js"><link rel="prefetch" href="/assets/js/131.e9cf282c.js"><link rel="prefetch" href="/assets/js/132.8c689324.js"><link rel="prefetch" href="/assets/js/133.3c8a72ad.js"><link rel="prefetch" href="/assets/js/134.c0217561.js"><link rel="prefetch" href="/assets/js/135.378212a0.js"><link rel="prefetch" href="/assets/js/136.35ea4a4e.js"><link rel="prefetch" href="/assets/js/137.0aab1449.js"><link rel="prefetch" href="/assets/js/138.132d18a2.js"><link rel="prefetch" href="/assets/js/139.15370399.js"><link rel="prefetch" href="/assets/js/14.40dcf9d8.js"><link rel="prefetch" href="/assets/js/140.38b87e0e.js"><link rel="prefetch" href="/assets/js/141.7c64372d.js"><link rel="prefetch" href="/assets/js/142.2842cd1f.js"><link rel="prefetch" href="/assets/js/143.5faa7bc8.js"><link rel="prefetch" href="/assets/js/144.77edff4a.js"><link rel="prefetch" href="/assets/js/145.6a84e241.js"><link rel="prefetch" href="/assets/js/146.3af3c08e.js"><link rel="prefetch" href="/assets/js/147.9a73c733.js"><link rel="prefetch" href="/assets/js/148.8f166999.js"><link rel="prefetch" href="/assets/js/149.e0c908da.js"><link rel="prefetch" href="/assets/js/15.e755c775.js"><link rel="prefetch" href="/assets/js/150.dc191c59.js"><link rel="prefetch" href="/assets/js/151.0de1dafb.js"><link rel="prefetch" href="/assets/js/152.ad0cc9c1.js"><link rel="prefetch" href="/assets/js/153.522583c4.js"><link rel="prefetch" href="/assets/js/154.faab3ea6.js"><link rel="prefetch" href="/assets/js/155.21e153d8.js"><link rel="prefetch" href="/assets/js/156.92d12713.js"><link rel="prefetch" href="/assets/js/157.b900b8d3.js"><link rel="prefetch" href="/assets/js/158.e01983e3.js"><link rel="prefetch" href="/assets/js/159.f5dfc118.js"><link rel="prefetch" href="/assets/js/16.6cb7a185.js"><link rel="prefetch" href="/assets/js/160.15e492c1.js"><link rel="prefetch" href="/assets/js/161.023dd4ee.js"><link rel="prefetch" href="/assets/js/162.bb3ead0a.js"><link rel="prefetch" href="/assets/js/163.bc18532b.js"><link rel="prefetch" href="/assets/js/164.503d0916.js"><link rel="prefetch" href="/assets/js/165.78c62eff.js"><link rel="prefetch" href="/assets/js/166.c23df4bb.js"><link rel="prefetch" href="/assets/js/167.487ff30e.js"><link rel="prefetch" href="/assets/js/168.a5bf0bd2.js"><link rel="prefetch" href="/assets/js/169.885dc45f.js"><link rel="prefetch" href="/assets/js/17.5c17a40a.js"><link rel="prefetch" href="/assets/js/170.9dba26bf.js"><link rel="prefetch" href="/assets/js/171.1984a07c.js"><link rel="prefetch" href="/assets/js/172.8c960f95.js"><link rel="prefetch" href="/assets/js/173.430f8971.js"><link rel="prefetch" href="/assets/js/174.a24c7197.js"><link rel="prefetch" href="/assets/js/175.b9754bb9.js"><link rel="prefetch" href="/assets/js/176.ae3e6e18.js"><link rel="prefetch" href="/assets/js/177.66b72841.js"><link rel="prefetch" href="/assets/js/178.4a61fa55.js"><link rel="prefetch" href="/assets/js/179.c53b7b7c.js"><link rel="prefetch" href="/assets/js/18.7349181b.js"><link rel="prefetch" href="/assets/js/180.ad1016d8.js"><link rel="prefetch" href="/assets/js/181.402b628b.js"><link rel="prefetch" href="/assets/js/182.92dc83a5.js"><link rel="prefetch" href="/assets/js/183.1479b899.js"><link rel="prefetch" href="/assets/js/184.c88e7de3.js"><link rel="prefetch" href="/assets/js/185.e6850b18.js"><link rel="prefetch" href="/assets/js/186.8310e193.js"><link rel="prefetch" href="/assets/js/187.2e796b87.js"><link rel="prefetch" href="/assets/js/188.8291dd71.js"><link rel="prefetch" href="/assets/js/189.a295094a.js"><link rel="prefetch" href="/assets/js/19.4487a6f4.js"><link rel="prefetch" href="/assets/js/190.49a9b384.js"><link rel="prefetch" href="/assets/js/191.80f48dcf.js"><link rel="prefetch" href="/assets/js/192.23120407.js"><link rel="prefetch" href="/assets/js/193.54fb7b68.js"><link rel="prefetch" href="/assets/js/194.82b4ab33.js"><link rel="prefetch" href="/assets/js/20.410d28d5.js"><link rel="prefetch" href="/assets/js/21.5181a3c4.js"><link rel="prefetch" href="/assets/js/22.1aeae30a.js"><link rel="prefetch" href="/assets/js/23.6720c98c.js"><link rel="prefetch" href="/assets/js/24.896c2f49.js"><link rel="prefetch" href="/assets/js/25.d5dc6748.js"><link rel="prefetch" href="/assets/js/26.6f8ccb05.js"><link rel="prefetch" href="/assets/js/27.495a99bd.js"><link rel="prefetch" href="/assets/js/28.4598bdf5.js"><link rel="prefetch" href="/assets/js/29.90a4e6bc.js"><link rel="prefetch" href="/assets/js/3.be5d0d37.js"><link rel="prefetch" href="/assets/js/30.c053f4d1.js"><link rel="prefetch" href="/assets/js/31.e1e552f4.js"><link rel="prefetch" href="/assets/js/32.12104d37.js"><link rel="prefetch" href="/assets/js/33.c81565cc.js"><link rel="prefetch" href="/assets/js/34.676dec0e.js"><link rel="prefetch" href="/assets/js/35.e9101c3f.js"><link rel="prefetch" href="/assets/js/36.c43666f0.js"><link rel="prefetch" href="/assets/js/37.1049e99b.js"><link rel="prefetch" href="/assets/js/38.79ffb92f.js"><link rel="prefetch" href="/assets/js/39.3a5cec24.js"><link rel="prefetch" href="/assets/js/4.9b131317.js"><link rel="prefetch" href="/assets/js/40.46c2183f.js"><link rel="prefetch" href="/assets/js/41.3335e6cb.js"><link rel="prefetch" href="/assets/js/42.120e800b.js"><link rel="prefetch" href="/assets/js/43.aa840491.js"><link rel="prefetch" href="/assets/js/44.15eee39a.js"><link rel="prefetch" href="/assets/js/45.233f27a4.js"><link rel="prefetch" href="/assets/js/46.c6c905e5.js"><link rel="prefetch" href="/assets/js/47.00e6f37d.js"><link rel="prefetch" href="/assets/js/48.4ba32a70.js"><link rel="prefetch" href="/assets/js/49.cab54b13.js"><link rel="prefetch" href="/assets/js/5.ec07def1.js"><link rel="prefetch" href="/assets/js/50.a06208d1.js"><link rel="prefetch" href="/assets/js/51.d575bed1.js"><link rel="prefetch" href="/assets/js/52.f0d509b4.js"><link rel="prefetch" href="/assets/js/53.7265aa0c.js"><link rel="prefetch" href="/assets/js/54.69870bc6.js"><link rel="prefetch" href="/assets/js/55.adc79de3.js"><link rel="prefetch" href="/assets/js/56.f078f86a.js"><link rel="prefetch" href="/assets/js/57.4045d233.js"><link rel="prefetch" href="/assets/js/58.db3465fa.js"><link rel="prefetch" href="/assets/js/59.889aa1d3.js"><link rel="prefetch" href="/assets/js/6.28a43771.js"><link rel="prefetch" href="/assets/js/60.ed79127f.js"><link rel="prefetch" href="/assets/js/61.4cf8de5f.js"><link rel="prefetch" href="/assets/js/62.c5878849.js"><link rel="prefetch" href="/assets/js/63.9fc37908.js"><link rel="prefetch" href="/assets/js/64.b4e0edc0.js"><link rel="prefetch" href="/assets/js/65.c83c204d.js"><link rel="prefetch" href="/assets/js/66.fbac221d.js"><link rel="prefetch" href="/assets/js/67.34bd25e9.js"><link rel="prefetch" href="/assets/js/68.6f220bc2.js"><link rel="prefetch" href="/assets/js/69.620aa363.js"><link rel="prefetch" href="/assets/js/7.6eded86b.js"><link rel="prefetch" href="/assets/js/70.db2e0cdd.js"><link rel="prefetch" href="/assets/js/71.ab9e0b45.js"><link rel="prefetch" href="/assets/js/72.1bab445b.js"><link rel="prefetch" href="/assets/js/73.ec267bab.js"><link rel="prefetch" href="/assets/js/74.200b0bcc.js"><link rel="prefetch" href="/assets/js/75.f5e474e2.js"><link rel="prefetch" href="/assets/js/76.e878e011.js"><link rel="prefetch" href="/assets/js/77.af58cced.js"><link rel="prefetch" href="/assets/js/78.064e4e45.js"><link rel="prefetch" href="/assets/js/79.287e0546.js"><link rel="prefetch" href="/assets/js/8.a53e1fdf.js"><link rel="prefetch" href="/assets/js/80.216d5848.js"><link rel="prefetch" href="/assets/js/81.88c93379.js"><link rel="prefetch" href="/assets/js/82.49e6b711.js"><link rel="prefetch" href="/assets/js/83.e68ac022.js"><link rel="prefetch" href="/assets/js/84.045c033e.js"><link rel="prefetch" href="/assets/js/85.fc4cbdde.js"><link rel="prefetch" href="/assets/js/86.7ecec2bc.js"><link rel="prefetch" href="/assets/js/87.b58b7eaf.js"><link rel="prefetch" href="/assets/js/88.c2ea6c0a.js"><link rel="prefetch" href="/assets/js/89.a4744f6b.js"><link rel="prefetch" href="/assets/js/9.f7a077e2.js"><link rel="prefetch" href="/assets/js/90.32557fce.js"><link rel="prefetch" href="/assets/js/92.2d1519b6.js"><link rel="prefetch" href="/assets/js/93.421666b9.js"><link rel="prefetch" href="/assets/js/94.82dbad9b.js"><link rel="prefetch" href="/assets/js/95.31304591.js"><link rel="prefetch" href="/assets/js/96.5fde5990.js"><link rel="prefetch" href="/assets/js/97.e63ad6c9.js"><link rel="prefetch" href="/assets/js/98.214dd022.js"><link rel="prefetch" href="/assets/js/99.acc9dc71.js">
    <link rel="stylesheet" href="/assets/css/0.styles.34d67128.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Docker 从入门到实践</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/install/" class="nav-link">
  安装 Docker
</a></div><div class="nav-item"><a href="/" class="nav-link">
  Docker 入门
</a></div><div class="nav-item"><a href="/cases/os/" class="nav-link">
  Docker 实战
</a></div><div class="nav-item"><a href="/cases/ci/" class="nav-link">
  CI/CD
</a></div><div class="nav-item"><a href="/repository/" class="nav-link">
  Docker 仓库
</a></div><div class="nav-item"><a href="/underly/" class="nav-link">
  底层实现
</a></div><div class="nav-item"><a href="/compose/" class="nav-link">
  Compose
</a></div><div class="nav-item"><a href="/kubernetes/" class="nav-link">
  Kubernetes
</a></div><div class="nav-item"><a href="/cloud/" class="nav-link">
  云计算
</a></div><div class="nav-item"><a href="https://github.com/yeasy/docker_practice" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://cloud.tencent.com/redirect.php?redirect=10058&amp;cps_key=3a5255852d5db99dcd5da4c72f05df61" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云容器服务
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/install/" class="nav-link">
  安装 Docker
</a></div><div class="nav-item"><a href="/" class="nav-link">
  Docker 入门
</a></div><div class="nav-item"><a href="/cases/os/" class="nav-link">
  Docker 实战
</a></div><div class="nav-item"><a href="/cases/ci/" class="nav-link">
  CI/CD
</a></div><div class="nav-item"><a href="/repository/" class="nav-link">
  Docker 仓库
</a></div><div class="nav-item"><a href="/underly/" class="nav-link">
  底层实现
</a></div><div class="nav-item"><a href="/compose/" class="nav-link">
  Compose
</a></div><div class="nav-item"><a href="/kubernetes/" class="nav-link">
  Kubernetes
</a></div><div class="nav-item"><a href="/cloud/" class="nav-link">
  云计算
</a></div><div class="nav-item"><a href="https://github.com/yeasy/docker_practice" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://cloud.tencent.com/redirect.php?redirect=10058&amp;cps_key=3a5255852d5db99dcd5da4c72f05df61" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云容器服务
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Docker — 从入门到实践</a></li><li><a href="/CHANGELOG.html" class="sidebar-link">修订记录</a></li><li><a href="/CONTRIBUTING.html" class="sidebar-link">如何贡献</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker 简介</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/introduction/" class="sidebar-link">简介</a></li><li><a href="/introduction/what.html" class="sidebar-link">什么是 Docker</a></li><li><a href="/introduction/why.html" class="sidebar-link">为什么要使用 Docker？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基本概念</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basic_concept/" class="sidebar-link">基本概念</a></li><li><a href="/basic_concept/image.html" class="sidebar-link">Docker 镜像</a></li><li><a href="/basic_concept/container.html" class="sidebar-link">Docker 容器</a></li><li><a href="/basic_concept/repository.html" class="sidebar-link">Docker Registry</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>使用镜像</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/image/" class="sidebar-link">使用 Docker 镜像</a></li><li><a href="/image/pull.html" class="sidebar-link">获取镜像</a></li><li><a href="/image/list.html" class="sidebar-link">列出镜像</a></li><li><a href="/image/rm.html" class="sidebar-link">删除本地镜像</a></li><li><a href="/image/commit.html" class="sidebar-link">利用 commit 理解镜像构成</a></li><li><a href="/image/build.html" class="sidebar-link">使用 Dockerfile 定制镜像</a></li><li><a href="/image/other.html" class="sidebar-link">其它制作镜像的方式</a></li><li><a href="/image/internal.html" class="sidebar-link">镜像的实现原理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Dockerfile</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/image/dockerfile/" class="sidebar-link">Dockerfile 指令详解</a></li><li><a href="/image/dockerfile/copy.html" class="sidebar-link">COPY 复制文件</a></li><li><a href="/image/dockerfile/add.html" class="sidebar-link">ADD 更高级的复制文件</a></li><li><a href="/image/dockerfile/cmd.html" class="sidebar-link">CMD 容器启动命令</a></li><li><a href="/image/dockerfile/entrypoint.html" class="sidebar-link">ENTRYPOINT 入口点</a></li><li><a href="/image/dockerfile/env.html" class="sidebar-link">ENV 设置环境变量</a></li><li><a href="/image/dockerfile/arg.html" class="sidebar-link">ARG 构建参数</a></li><li><a href="/image/dockerfile/volume.html" class="sidebar-link">VOLUME 定义匿名卷</a></li><li><a href="/image/dockerfile/expose.html" class="sidebar-link">EXPOSE 声明端口</a></li><li><a href="/image/dockerfile/workdir.html" class="sidebar-link">WORKDIR 指定工作目录</a></li><li><a href="/image/dockerfile/user.html" class="sidebar-link">USER 指定当前用户</a></li><li><a href="/image/dockerfile/healthcheck.html" class="sidebar-link">HEALTHCHECK 健康检查</a></li><li><a href="/image/dockerfile/onbuild.html" class="sidebar-link">ONBUILD 为他人做嫁衣裳</a></li><li><a href="/image/dockerfile/references.html" class="sidebar-link">参考文档</a></li><li><a href="/image/multistage-builds/" class="sidebar-link">多阶段构建</a></li><li><a href="/image/multistage-builds/laravel.html" class="sidebar-link">实战多阶段构建 Laravel 镜像</a></li><li><a href="/image/manifest.html" class="sidebar-link">构建多种系统架构支持的 Docker 镜像 -- docker manifest 命令详解</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>操作容器</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/container/" class="sidebar-link">操作 Docker 容器</a></li><li><a href="/container/run.html" class="sidebar-link">启动容器</a></li><li><a href="/container/daemon.html" class="sidebar-link">后台运行</a></li><li><a href="/container/stop.html" class="sidebar-link">终止容器</a></li><li><a href="/container/attach_exec.html" class="sidebar-link">进入容器</a></li><li><a href="/container/import_export.html" class="sidebar-link">导出和导入容器</a></li><li><a href="/container/rm.html" class="sidebar-link">删除容器</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据管理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/data_management/" class="sidebar-link">Docker 数据管理</a></li><li><a href="/data_management/volume.html" class="sidebar-link">数据卷</a></li><li><a href="/data_management/bind-mounts.html" class="sidebar-link">挂载主机目录</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>使用网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/network/" class="sidebar-link">Docker 中的网络功能介绍</a></li><li><a href="/network/port_mapping.html" class="sidebar-link">外部访问容器</a></li><li><a href="/network/linking.html" class="sidebar-link">容器互联</a></li><li><a href="/network/dns.html" class="sidebar-link">配置 DNS</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>高级网络配置</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced_network/" class="sidebar-link">高级网络配置</a></li><li><a href="/advanced_network/quick_guide.html" class="sidebar-link">快速配置指南</a></li><li><a href="/advanced_network/access_control.html" class="sidebar-link">容器访问控制</a></li><li><a href="/advanced_network/port_mapping.html" class="sidebar-link">映射容器端口到宿主主机的实现</a></li><li><a href="/advanced_network/bridge.html" class="sidebar-link">自定义网桥</a></li><li><a href="/advanced_network/example.html" class="sidebar-link">工具和示例</a></li><li><a href="/advanced_network/config_file.html" class="sidebar-link">编辑网络配置文件</a></li><li><a href="/advanced_network/ptp.html" class="sidebar-link">示例：创建一个点到点连接</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Swarm mode</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/swarm_mode/" class="sidebar-link">Swarm mode</a></li><li><a href="/swarm_mode/overview.html" class="sidebar-link">基本概念</a></li><li><a href="/swarm_mode/create.html" class="sidebar-link">创建 Swarm 集群</a></li><li><a href="/swarm_mode/deploy.html" class="sidebar-link">部署服务</a></li><li><a href="/swarm_mode/stack.html" class="sidebar-link">在 Swarm 集群中使用 compose 文件</a></li><li><a href="/swarm_mode/secret.html" class="sidebar-link">在 Swarm 集群中管理敏感数据</a></li><li><a href="/swarm_mode/config.html" class="sidebar-link">在 Swarm 集群中管理配置数据</a></li><li><a href="/swarm_mode/rolling_update.html" class="sidebar-link">SWarm mode 与滚动升级</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>安全</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/security/" class="sidebar-link">安全</a></li><li><a href="/security/kernel_ns.html" class="sidebar-link">内核命名空间</a></li><li><a href="/security/control_group.html" class="sidebar-link">控制组</a></li><li><a href="/security/daemon_sec.html" class="sidebar-link">Docker服务端的防护</a></li><li><a href="/security/kernel_capability.html" class="sidebar-link">内核能力机制</a></li><li><a href="/security/other_feature.html" class="sidebar-link">其它安全特性</a></li><li><a href="/security/summary.html" class="sidebar-link">总结</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker Buildx</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/buildx/" class="sidebar-link">Docker Buildx</a></li><li><a href="/buildx/buildkit.html" class="sidebar-link">使用 BuildKit 构建镜像</a></li><li><a href="/buildx/buildx.html" class="sidebar-link">使用 Buildx 构建镜像</a></li><li><a href="/buildx/multi-arch-images.html" class="sidebar-link">使用 buildx 构建多种系统架构支持的 Docker 镜像</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Etcd</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/etcd/" aria-current="page" class="sidebar-link">etcd</a></li><li><a href="/etcd/intro.html" class="sidebar-link">什么是 etcd</a></li><li><a href="/etcd/install.html" class="sidebar-link">安装</a></li><li><a href="/etcd/cluster.html" class="sidebar-link">etcd 集群</a></li><li><a href="/etcd/etcdctl.html" aria-current="page" class="active sidebar-link">使用 etcdctl</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/etcd/etcdctl.html#数据库操作" class="sidebar-link">数据库操作</a></li><li class="sidebar-sub-header"><a href="/etcd/etcdctl.html#非数据库操作" class="sidebar-link">非数据库操作</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Fedora CoreOS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/coreos/" class="sidebar-link">Fedora CoreOS</a></li><li><a href="/coreos/intro.html" class="sidebar-link">Fedora CoreOS 介绍</a></li><li><a href="/coreos/install.html" class="sidebar-link">安装 Fedora CoreOS</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker 开源项目</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/opensource/" class="sidebar-link">Docker 开源项目</a></li><li><a href="/opensource/linuxkit.html" class="sidebar-link">LinuxKit</a></li></ul></section></li><li><a href="/podman/" class="sidebar-link">podman</a></li><li><a href="/appendix/faq/" class="sidebar-link">常见问题总结</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>热门镜像介绍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/appendix/repo/" class="sidebar-link">热门镜像介绍</a></li><li><a href="/appendix/repo/ubuntu.html" class="sidebar-link">Ubuntu</a></li><li><a href="/appendix/repo/centos.html" class="sidebar-link">CentOS</a></li><li><a href="/appendix/repo/nginx.html" class="sidebar-link">Nginx</a></li><li><a href="/appendix/repo/php.html" class="sidebar-link">PHP</a></li><li><a href="/appendix/repo/nodejs.html" class="sidebar-link">Node.js</a></li><li><a href="/appendix/repo/mysql.html" class="sidebar-link">MySQL</a></li><li><a href="/appendix/repo/wordpress.html" class="sidebar-link">WordPress</a></li><li><a href="/appendix/repo/mongodb.html" class="sidebar-link">MongoDB</a></li><li><a href="/appendix/repo/redis.html" class="sidebar-link">Redis</a></li><li><a href="/appendix/repo/minio.html" class="sidebar-link">minio</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker 命令</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/appendix/command/" class="sidebar-link">Docker 命令查询</a></li><li><a href="/appendix/command/docker.html" class="sidebar-link">客户端命令(docker)</a></li><li><a href="/appendix/command/dockerd.html" class="sidebar-link">服务端命令(dockerd)</a></li></ul></section></li><li><a href="/appendix/best_practices.html" class="sidebar-link">Dockerfile 最佳实践</a></li><li><a href="/appendix/debug.html" class="sidebar-link">如何调试 Docker</a></li><li><a href="/appendix/resources.html" class="sidebar-link">资源链接</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="使用-etcdctl"><a href="#使用-etcdctl" class="header-anchor">#</a> 使用 etcdctl</h1> <p><code>etcdctl</code> 是一个命令行客户端，它能提供一些简洁的命令，供用户直接跟 <code>etcd</code> 服务打交道，而无需基于 <code>HTTP API</code> 方式。这在某些情况下将很方便，例如用户对服务进行测试或者手动修改数据库内容。我们也推荐在刚接触 <code>etcd</code> 时通过 <code>etcdctl</code> 命令来熟悉相关的操作，这些操作跟 <code>HTTP API</code> 实际上是对应的。</p> <p><code>etcd</code> 项目二进制发行包中已经包含了 <code>etcdctl</code> 工具，没有的话，可以从 <a href="https://github.com/etcd-io/etcd/releases" target="_blank" rel="noopener noreferrer">github.com/etcd-io/etcd/releases<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 下载。</p> <p><code>etcdctl</code> 支持如下的命令，大体上分为数据库操作和非数据库操作两类，后面将分别进行解释。</p> <div class="language- extra-class"><pre class="language-text"><code>NAME:
	etcdctl - A simple command line client for etcd3.

USAGE:
	etcdctl

VERSION:
	3.4.0

API VERSION:
	3.4


COMMANDS:
	get			Gets the key or a range of keys
	put			Puts the given key into the store
	del			Removes the specified key or range of keys [key, range_end)
	txn			Txn processes all the requests in one transaction
	compaction		Compacts the event history in etcd
	alarm disarm		Disarms all alarms
	alarm list		Lists all alarms
	defrag			Defragments the storage of the etcd members with given endpoints
	endpoint health		Checks the healthiness of endpoints specified in `--endpoints` flag
	endpoint status		Prints out the status of endpoints specified in `--endpoints` flag
	watch			Watches events stream on keys or prefixes
	version			Prints the version of etcdctl
	lease grant		Creates leases
	lease revoke		Revokes leases
	lease timetolive	Get lease information
	lease keep-alive	Keeps leases alive (renew)
	member add		Adds a member into the cluster
	member remove		Removes a member from the cluster
	member update		Updates a member in the cluster
	member list		Lists all members in the cluster
	snapshot save		Stores an etcd node backend snapshot to a given file
	snapshot restore	Restores an etcd member snapshot to an etcd directory
	snapshot status		Gets backend snapshot status of a given file
	make-mirror		Makes a mirror at the destination etcd cluster
	migrate			Migrates keys in a v2 store to a mvcc store
	lock			Acquires a named lock
	elect			Observes and participates in leader election
	auth enable		Enables authentication
	auth disable		Disables authentication
	user add		Adds a new user
	user delete		Deletes a user
	user get		Gets detailed information of a user
	user list		Lists all users
	user passwd		Changes password of user
	user grant-role		Grants a role to a user
	user revoke-role	Revokes a role from a user
	role add		Adds a new role
	role delete		Deletes a role
	role get		Gets detailed information of a role
	role list		Lists all roles
	role grant-permission	Grants a key to a role
	role revoke-permission	Revokes a key from a role
	check perf		Check the performance of the etcd cluster
	help			Help about any command

OPTIONS:
      --cacert=&quot;&quot;				verify certificates of TLS-enabled secure servers using this CA bundle
      --cert=&quot;&quot;					identify secure client using this TLS certificate file
      --command-timeout=5s			timeout for short running command (excluding dial timeout)
      --debug[=false]				enable client-side debug logging
      --dial-timeout=2s				dial timeout for client connections
      --endpoints=[127.0.0.1:2379]		gRPC endpoints
      --hex[=false]				print byte strings as hex encoded strings
      --insecure-skip-tls-verify[=false]	skip server certificate verification
      --insecure-transport[=true]		disable transport security for client connections
      --key=&quot;&quot;					identify secure client using this TLS key file
      --user=&quot;&quot;					username[:password] for authentication (prompt if password is not supplied)
  -w, --write-out=&quot;simple&quot;			set the output format (fields, json, protobuf, simple, table)
</code></pre></div><h2 id="数据库操作"><a href="#数据库操作" class="header-anchor">#</a> 数据库操作</h2> <p>数据库操作围绕对键值和目录的 CRUD （符合 REST 风格的一套操作：Create）完整生命周期的管理。</p> <p>etcd 在键的组织上采用了层次化的空间结构（类似于文件系统中目录的概念），用户指定的键可以为单独的名字，如 <code>testkey</code>，此时实际上放在根目录 <code>/</code> 下面，也可以为指定目录结构，如 <code>cluster1/node2/testkey</code>，则将创建相应的目录结构。</p> <blockquote><p>注：CRUD 即 Create, Read, Update, Delete，是符合 REST 风格的一套 API 操作。</p></blockquote> <h3 id="put"><a href="#put" class="header-anchor">#</a> put</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>$ etcdctl put /testdir/testkey <span class="token string">&quot;Hello world&quot;</span>
OK
</code></pre></div><h3 id="get"><a href="#get" class="header-anchor">#</a> get</h3> <p>获取指定键的值。例如</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ etcdctl put testkey hello
OK
$ etcdctl get testkey
testkey
hello
</code></pre></div><p>支持的选项为</p> <p><code>--sort</code>	对结果进行排序</p> <p><code>--consistent</code> 将请求发给主节点，保证获取内容的一致性</p> <h3 id="del"><a href="#del" class="header-anchor">#</a> del</h3> <p>删除某个键值。例如</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ etcdctl del testkey
<span class="token number">1</span>
</code></pre></div><h2 id="非数据库操作"><a href="#非数据库操作" class="header-anchor">#</a> 非数据库操作</h2> <h3 id="watch"><a href="#watch" class="header-anchor">#</a> watch</h3> <p>监测一个键值的变化，一旦键值发生更新，就会输出最新的值。</p> <p>例如，用户更新 <code>testkey</code> 键值为 <code>Hello world</code>。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ etcdctl <span class="token function">watch</span> testkey
PUT
testkey
<span class="token number">2</span>
</code></pre></div><h3 id="member"><a href="#member" class="header-anchor">#</a> member</h3> <p>通过 <code>list</code>、<code>add</code>、<code>update</code>、<code>remove</code> 命令列出、添加、更新、删除 etcd 实例到 etcd 集群中。</p> <p>例如本地启动一个 <code>etcd</code> 服务实例后，可以用如下命令进行查看。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ etcdctl member list
422a74f03b622fef, started, node1, http://172.16.238.100:2380, http://172.16.238.100:23
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/yeasy/docker_practice/edit/master//etcd/etcdctl.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/etcd/cluster.html" class="prev">
        etcd 集群
      </a></span> <span class="next"><a href="/coreos/">
        Fedora CoreOS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.645d0234.js" defer></script><script src="/assets/js/2.7df55174.js" defer></script><script src="/assets/js/91.03b75cf0.js" defer></script>
  </body>
</html>
